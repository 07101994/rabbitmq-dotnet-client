<?xml version="1.0" encoding="UTF-8"?>
<Wix xmlns="http://schemas.microsoft.com/wix/2003/01/wi">
    <Product Name='RabbitMQ .NET Client @VERSION@' Id='23B1A788-647D-4414-B1C6-028DAC04F761' Language='1033' Codepage='1252' Version='@VERSION@' Manufacturer='LShift Ltd.'>
        <Package Id='????????-????-????-????-????????????' Description='RabbitMQ .NET Client 1.6.0 for .NET 2.0' Manufacturer='LShift Ltd.' InstallerVersion='100' Languages='1033' Compressed='yes' SummaryCodepage='1252' />
        
        <Condition Message="You need to be an administrator to install this product.">
            Privileged AND AdminUser
        </Condition>
        <Condition Message=".NET Framework missing">
            MsiNetAssemblySupport
        </Condition>

        <Media Id='1' Cabinet='DNClnt.cab' EmbedCab='yes' />

        <Directory Id='TARGETDIR' Name='SourceDir'>
            <Directory Id='ProgramFilesFolder' Name='PFiles'>
                <Directory Id='RabbitMQFolder' Name='RabbitMQ'>
                    <Directory Id='DOTNET_CLIENT_INSTALLDIR' Name='DNClient' LongName='DotNetClient'>
                        <Merge Id='DotNetClientModule' Language='1033' SourceFile='build\wix\rabbitmq-dotnet-client.msm' DiskId='1' />
                    </Directory>
                </Directory>
            </Directory>
        </Directory>

        <Feature Id='MainFeature' Level='1' Title='RabbitMQ .NET Client @VERSION@' Description='RabbitMQ .NET Client Library, Autogenerated Documentation and C# Examples' ConfigurableDirectory='DOTNET_CLIENT_INSTALLDIR'>
            <MergeRef Id='DotNetClientModule' />
        </Feature>

        <UIRef Id='WixUI_FeatureTree' />
        <UIRef Id='WixUI_ErrorProgressText' />
        <Binary Id="wixca" src="lib\wixca.dll"/>
    </Product>
</Wix>
